{% set main_title = title + ' | Pentacode' %} {% extends "../base.njk" %}<!-- -->

{% block styles %}

{{ super() }}

{% include "styles/blog.html" %}<!-- -->

{% endblock %}<!-- -->

{% block body %} {% include "components/header.njk" %}

<div class="main list">
    <ul class="categories-menu horizontal center-justifying layout">
        <li>
            <a href="/blog" class="underline {% if not category %}active{% endif %}">
                <i class="far fa-list-timeline"></i> Alle Rubriken
            </a>
        </li>

        {% for cat in all_categories %}
        <li>
            <a
                href="/blog/rubriken/{{ cat.name }}"
                class="underline {{ cat.color }} {% if category === cat.name %}active{% endif %}"
            >
                <i class="far fa-{{ cat.icon }}"></i> {{ cat.title }}</a
            >
        </li>
        {% endfor %}
    </ul>

    <ul class="articles-list animation-reveal-children">
        {% set pages = collections.all | eleventyNavigation("/blog") | filterByCategory(category) | orderByDate |
        excludeDrafts %}
        <!-- -->

        {% for page in pages %} {% set author = staff[page.author or "lstrasser"] %}
        <li>
            <article>
                <div class="cover-image">
                    <a href="{{ page.url }}">
                        {% if page.cover %}
                        <img
                            class="article-cover stretch collapse"
                            src="{{ page.cover }}"
                            alt="{{ page.coverAlt or page.title }}"
                        />
                        {% endif %}
                    </a>
                </div>

                <div class="article-categories">
                    {% for category in page.expanded_categories %}
                    <div class="{{ category.color }}">
                        <i class="far fa-{{ category.icon }}"></i> {{ category.title }}
                    </div>
                    {% endfor %}
                </div>

                <a href="{{ page.url }}" class="stretch">
                    <h2>{{ page.title | markdownify | safe }}</h2>
                </a>

                <div class="article-summary">
                    {{ page.excerpt | plainify | safe }}...
                    <a href="{{ page.url }}" class="article-continue">
                        weiterlesen <i class="fas fa-arrow-right icon"></i>
                    </a>
                </div>

                <div class="horizontal center-aligning layout">
                    <div class="article-author center-aligning horizontal layout stretch">
                        <img class="article-author-image" src="{{ author.image }}" />
                        <div class="article-author-name stretch">{{ author.name }}</div>
                    </div>

                    <div class="article-date">
                        {{ page.publishDate | formatDate }}
                    </div>
                </div>
            </article>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
